---
dependency:
  name: galaxy
driver:
  name: docker
lint:
  name: yamllint
platforms:
  - name: centos-7
    image: jonsible/centos:7-build
    # privileged: true
    # volumes:
    #   - "/sys/fs/cgroup:/sys/fs/cgroup:rw"
    # command: "/sbin/init"
    capabilities:
      - LINUX_IMMUTABLE
    tty: true
    env:
      container: docker
  - name: debian-stretch
    image: jonsible/debian:stretch-build
    # privileged: true
    # volumes:
    #   - "/sys/fs/cgroup:/sys/fs/cgroup:rw"
    # command: "/lib/systemd/systemd"
    capabilities:
      - LINUX_IMMUTABLE
    tty: true
    env:
      container: docker
      LC_ALL: en_US.utf8
      DEBIAN_FRONTEND: noninteractive
  - name: archlinux-latest
    image: jonsible/archlinux:latest-build
    env:
      container: docker
provisioner:
  name: ansible
  lint:
    name: ansible-lint
verifier:
  name: testinfra
  lint:
    name: flake8
